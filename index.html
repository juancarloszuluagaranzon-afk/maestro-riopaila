<!DOCTYPE html>
<html class="dark" lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Riopaila Agr√≠cola - Maestro de Suertes</title>
  <link rel="manifest" href="manifest.json">
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24;
    }
    body { min-height: max(884px, 100dvh); }
  </style>
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#0ea4a2",
            "background-light": "#f6f8f8",
            "background-dark": "#102221",
          },
          fontFamily: { "display": ["Manrope", "sans-serif"] },
          borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
        },
      },
    }
  </script>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-slate-800 dark:text-slate-200">
  <div class="relative flex min-h-screen w-full flex-col items-center justify-center overflow-x-hidden p-4">
    <!-- Main Content Area -->
    <main class="flex w-full max-w-lg flex-col items-center justify-center text-center">
      <!-- Logo -->
      <div class="mb-6 h-24 w-24 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700">
        <div class="flex h-full w-full items-center justify-center bg-cover bg-center"
          style='background-image: url("icon-192.png");'>
        </div>
      </div>

      <!-- HeadlineText -->
      <h1 class="text-slate-900 dark:text-white text-3xl sm:text-4xl font-bold tracking-tight">Riopaila Agr√≠cola</h1>
      <h2 class="mt-2 text-base sm:text-lg font-medium text-slate-600 dark:text-slate-400">
        Maestro de Suertes ¬∑ Transformaci√≥n Digital
      </h2>

      <!-- Primary Button -->
      <div class="mt-8 w-full max-w-xs">
        <button 
          onclick="window.location.href='maestro.html'"
          class="flex w-full min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 bg-primary text-white text-base font-bold leading-normal tracking-wide shadow-lg shadow-primary/20 transition-transform hover:scale-105"
        >
          <span class="truncate">Abrir Maestro</span>
        </button>
      </div>

      <!-- Features -->
      <div class="mt-12 grid w-full max-w-md grid-cols-3 gap-3 text-center sm:gap-4">
        <div class="flex flex-col items-center gap-2 rounded-lg bg-white/50 dark:bg-black/20 p-4">
          <span class="material-symbols-outlined text-primary text-3xl">bolt</span>
          <h3 class="text-sm font-bold text-slate-700 dark:text-slate-300">R√°pido</h3>
        </div>
        <div class="flex flex-col items-center gap-2 rounded-lg bg-white/50 dark:bg-black/20 p-4">
          <span class="material-symbols-outlined text-primary text-3xl">shield</span>
          <h3 class="text-sm font-bold text-slate-700 dark:text-slate-300">Seguro</h3>
        </div>
        <div class="flex flex-col items-center gap-2 rounded-lg bg-white/50 dark:bg-black/20 p-4">
          <span class="material-symbols-outlined text-primary text-3xl">devices</span>
          <h3 class="text-sm font-bold text-slate-700 dark:text-slate-300">Adaptable</h3>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="absolute bottom-0 w-full p-4 text-center text-xs text-slate-500 dark:text-slate-500">
      <div class="flex flex-col items-center justify-center gap-2 sm:flex-row sm:gap-4">
        <p>¬© 2025 Riopaila Agr√≠cola S.A.S.</p>
        <div class="rounded-full bg-slate-200 px-2 py-0.5 text-xs font-semibold text-slate-600 dark:bg-slate-700 dark:text-slate-300">
          v1.6.2
        </div>
      </div>
    </footer>
  </div>

  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(reg => console.log('Service Worker registrado:', reg.scope))
      .catch(err => console.error('Error al registrar SW:', err));
  }
  </script>
  <script>
// üîÑ Registro inteligente del Service Worker con actualizaci√≥n autom√°tica
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js')
    .then(reg => {
      console.log('‚úÖ SW registrado correctamente:', reg.scope);

      // Detecta nuevas versiones
      reg.addEventListener('updatefound', () => {
        const newWorker = reg.installing;
        newWorker.addEventListener('statechange', () => {
          if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
            console.log('üí° Nueva versi√≥n detectada. Actualizando...');
            newWorker.postMessage({ type: 'SKIP_WAITING' });
          }
        });
      });
    })
    .catch(err => console.error('‚ùå Error registrando SW:', err));

  // Cuando el nuevo SW toma el control, recarga la p√°gina autom√°ticamente
  navigator.serviceWorker.addEventListener('controllerchange', () => {
    console.log('üîÅ Controlador cambiado: recargando...');
    window.location.reload();
  });
}
</script>
</body>
</html>

